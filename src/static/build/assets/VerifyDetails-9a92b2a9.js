import{r as a,b as _,d as f,e,w as u,br as D,v as h,m as C,k as N,bE as A,bF as M,o as S,a as x,i as k,f as p,l as T,p as w,g as $,t as c,n as j}from"./index-6e99a621.js";import{_ as U}from"./Info-5c3a40ee.js";/* empty css                                             */const F={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},B=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),E={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},L={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},O={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},R={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},z={class:""},P={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},q={class:"flex justify-between my-4"},H=e("h2",{class:"text-base font-semibold leading-6 p-2 text-gray-900",id:"modal-title"},[e("b",{class:"text-blue-900"},"Aggiorna Verifica")],-1),G={class:"flex items-center"},I=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Status:",-1),J=e("option",{selected:"",value:"false"},"Da completare",-1),K=e("option",{value:"true"},"Completate",-1),Q=[J,K],W=e("hr",{class:"mb-4"},null,-1),X={class:"mt-4"},Y={class:"mb-6"},Z=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Modifica dopo collaudo",-1),ee={class:"mb-6"},te=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componenti mancanti",-1),se={class:"mb-6"},oe=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Lavorazioni manuali",-1),ae=e("hr",null,null,-1),re={class:"mb-6 mt-4"},le=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Firma operatore",-1),ne={__name:"VerifyForm",props:{verify:{type:Object,required:!1}},emits:["close-modal","save-data"],setup(v,{emit:m}){const t=v,n=a(t.verify.changes_after_testing),d=a(t.verify.missing_component),i=a(t.verify.manual_work),r=a(t.verify.status),b=a(t.verify.firma);async function y(){let l=C.verifyCRUD+`${t.verify.uuid}/`,s="PATCH";try{const o=await N({method:s,url:l,data:{changes_after_testing:n.value,missing_component:d.value,manual_work:i.value,firma:b.value,status:r.value}});m("save-data",o.data)}catch(o){m("save-data",o.response.status)}}function g(){m("close-modal")}return(l,s)=>(_(),f("div",F,[B,e("div",E,[e("div",L,[e("div",O,[e("div",R,[e("div",z,[e("div",P,[e("div",q,[H,e("div",G,[I,u(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.value=o),id:"status",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Q,512),[[D,r.value]])])]),W,e("div",X,[e("div",Y,[Z,u(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>n.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,n.value]])]),e("div",ee,[te,u(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>d.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,d.value]])]),e("div",se,[oe,u(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=o=>i.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,i.value]])]),ae,e("div",re,[le,u(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":s[4]||(s[4]=o=>b.value=o)},null,512),[[h,b.value]])]),e("div",{class:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{onClick:y,class:"mt-3 inline-flex w-full justify-center mx-2 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-500 hover:text-white sm:mt-0 sm:w-auto"}," Save "),e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-red-800 hover:text-white sm:mt-0 sm:w-auto",onClick:g}," Cancel ")])])])])])])])])]))}},de={class:"p-4 w-full"},ie={key:0,class:""},ce=e("hr",{class:"my-4"},null,-1),ue={class:"flex justify-between my-4"},me={class:"text-2xl mb-4 text-blue-900"},_e={class:"mt-2"},be={class:"mt-2"},ge=e("hr",{class:"my-2"},null,-1),fe={class:"flex justify-between my-4"},he=e("h1",{class:"text-md font-semibold"},"Status:",-1),pe={class:"text-md"},ve={key:0,class:"text-white bg-green-700 p-1 px-2 rounded-md"},ye={key:1,class:"text-white bg-yellow-400 p-1 px-2 rounded-md"},xe=e("hr",{class:"my-4"},null,-1),ke={class:"mt-4 bg-gray-100 p-4 rounded-md"},we=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Modifiche dopo collaudo:",-1),$e=e("hr",{class:"my-1"},null,-1),Ce={class:"text-sm"},Ne={class:"mt-4 bg-gray-100 p-4 rounded-md"},Ve=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Componenti mancanti: ",-1),De=e("hr",{class:"my-1"},null,-1),Ae={class:"text-sm"},Me={class:"mt-4 bg-gray-100 p-4 rounded-md"},Se=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Lavorazioni manuali:",-1),Te=e("hr",{class:"my-1"},null,-1),je={class:"text-sm"},Ue={class:"mt-4 bg-gray-100 p-4 rounded-md"},Fe=e("h4",{class:"text-blue-800 text-sm font-semibold mb-4"},"Firma operatore:",-1),Be={class:""},Ee=e("hr",null,null,-1),ze={__name:"VerifyDetails",props:{verify_number:String},setup(v){const m=v,t=a({}),n=a(!1),d=a(!1),i=a(!1),r=a("");A(),M();async function b(){const l=`${C.verifyCRUD}${m.verify_number}/`;try{const s=await N.get(l);t.value=s.data,console.log(s.data),n.value=!0}catch(s){alert(s)}}function y(l){g(),console.log(l),typeof l=="number"?(r.value="Aggiornametno non riuscito",i.value=!1):(t.value=l,r.value="Aggiornametno avvenuto con successo",i.value=!0),setTimeout(()=>r.value="",5e3)}function g(){d.value=!d.value}return S(()=>{b(),console.log(m.uuid)}),(l,s)=>{const o=x("font-awesome-icon"),V=x("router-link");return _(),f("main",null,[u(p(U,{message:r.value,"icon-type":i.value},null,8,["message","icon-type"]),[[k,r.value]]),e("div",de,[n.value?(_(),f("div",ie,[p(V,{to:{name:"order-details",params:{order_number:t.value.order_number}},class:"hover:text-green-600"},{default:T(()=>[p(o,{icon:"arrow-left-long"}),$(" Back to "+c(t.value.order_number),1)]),_:1},8,["to"]),ce])):w("",!0),e("div",ue,[e("div",null,[e("h1",me,[p(o,{icon:"magnifying-glass"}),$(" Verifica ")]),e("p",_e,"Data: "+c(t.value.created_at),1),e("p",be,"Ordine: "+c(t.value.order_number),1)]),e("div",{class:"flex gap-2"},[e("button",{class:"hover:bg-amber-400 max-h-8 text-blue-950 font-semibold hover:text-white px-4 border hover:border-none text-sm border-blue-950 rounded",onClick:g}," Aggiorna ")])]),ge,e("div",fe,[he,e("h1",pe,[t.value.status?(_(),f("span",ve,"COMPLETATO")):(_(),f("span",ye,"DA COMPLETARE"))])]),xe,e("div",ke,[we,$e,e("p",Ce,c(t.value.changes_after_testing),1)]),e("div",Ne,[Ve,De,e("p",Ae,c(t.value.missing_component),1)]),e("div",Me,[Se,Te,e("p",je,c(t.value.manual_work),1)]),e("div",Ue,[Fe,e("p",Be,c(t.value.firma),1),Ee])]),n.value?u((_(),j(ne,{key:0,onCloseModal:g,onSaveData:y,verify:t.value},null,8,["verify"])),[[k,d.value]]):w("",!0)])}}};export{ze as default};
