import{p as V,r as l,c as L,o as F,a as k,b as n,d as c,w as h,i as y,f as d,e,g as w,v as U,u as z,q as A,F as C,h as M,j as f,k as R,t as i,l as T,m as $}from"./index-7ae892e9.js";import{_ as q}from"./BoardForm-6085c4c7.js";const E={class:"p-4 w-full"},G={class:"flex justify-between gap-2"},H={class:"text-2xl"},I={class:"flex-1"},J={class:""},K={class:"relative"},O=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},null,-1),Q=e("hr",{class:"mt-2"},null,-1),W={class:"text-left text-sm font-light flex-wrap w-full"},X=e("thead",{class:"border-b font-medium dark:border-neutral-500"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4"},"Scheda"),e("th",{scope:"col",class:"px-6 py-4"},"Codice"),e("th",{scope:"col",class:"px-6 py-4"},"Data creazione"),e("th",{scope:"col",class:"px-2 py-4"},"Revisione"),e("th",{scope:"col",class:"px-2 py-4"})])],-1),Y={class:"whitespace-nowrap px-6 py-4 font-medium"},Z={class:"whitespace-nowrap px-6 py-4"},ee={class:"whitespace-nowrap px-6 py-4"},te={class:"whitespace-nowrap px-4 py-4"},ae={class:"py-4"},oe={class:"text-center mt-4"},se={"aria-label":"Page navigation example"},re={class:"inline-flex -space-x-px text-sm"},le=["onClick"],ne=["onClick"],ce=["onClick"],pe={__name:"Boards",setup(de){const m=V();console.log(m.first_name);const p=l([]),g=l(!1),_=l(""),u=l(0),v=l(15),s=l(0),D=L(()=>{const a=s.value*v.value,o=a+v.value;let r=p.value.filter(x=>x.board_name.toLowerCase().includes(_.value.toLowerCase()));return u.value=Math.ceil(r.length/v.value),console.log(u.value),r.slice(a,o)}),N=a=>{s.value=a-1},S=()=>{s.value++},j=()=>{s.value===0?s.value=0:s.value--};function b(){g.value=!g.value}function B(a){console.log(a),b(),p.value.unshift(a)}async function P(){let a=$.boardsCRUD;try{const o=await R.get(a);p.value.push(...o.data),console.log(o.data)}catch(o){alert(o)}}return F(()=>{P()}),(a,o)=>{const r=k("font-awesome-icon"),x=k("router-link");return n(),c("main",null,[h(d(q,{onCloseModal:b,onSaveData:B},null,512),[[y,g.value]]),e("div",E,[e("div",G,[e("h1",H,[d(r,{icon:"hard-drive",class:"text-blue-950"}),w(" Schede ")]),e("div",I,[e("form",J,[e("div",K,[O,h(e("input",{type:"search",id:"default-search",class:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Cerca per nome scheda","onUpdate:modelValue":o[0]||(o[0]=t=>_.value=t)},null,512),[[U,_.value]])])])]),z(m).company_role=="M"?(n(),c("button",{key:0,class:"hover:bg-blue-500 text-blue-950 font-semibold hover:text-white py-1 px-6 border border-blue-950 rounded",onClick:b},[d(r,{icon:"folder-plus"}),w(" Add ")])):A("",!0)]),Q,e("table",W,[X,e("tbody",null,[(n(!0),c(C,null,M(D.value,t=>(n(),c("tr",{class:"border-b dark:border-neutral-500",key:t.uuid},[e("td",Y,i(t.board_name),1),e("td",Z,i(t.board_code),1),e("td",ee,i(t.created_at),1),e("td",te,i(t.board_rev),1),e("td",ae,[d(x,{to:{name:"board-details",params:{uuid:t.id}}},{default:T(()=>[d(r,{icon:"fa-eye",class:"text-blue-950 hover:text-green-500"})]),_:2},1032,["to"])])]))),128))])]),e("div",oe,[e("nav",se,[e("ul",re,[h(e("li",null,[e("a",{onClick:f(j,["prevent"]),class:"disabled flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"Previous",8,le)],512),[[y,s.value!==0]]),(n(!0),c(C,null,M(u.value,t=>(n(),c("li",null,[e("a",{onClick:f(ie=>N(t),["prevent"]),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},i(t),9,ne)]))),256)),h(e("li",null,[e("a",{onClick:f(S,["prevent"]),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"Next",8,ce)],512),[[y,s.value<u.value-1]])])])])])])}}};export{pe as default};
