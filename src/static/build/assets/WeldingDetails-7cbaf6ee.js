import{r as a,b as n,d as _,e,w as i,br as w,v as f,m as S,k as M,o as D,a as k,i as $,f as y,l as V,p as C,g as N,t as g,n as A}from"./index-6e99a621.js";import{_ as j}from"./Info-5c3a40ee.js";/* empty css                                             */const T={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},U=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),O={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},B={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},F={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},P={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},E={class:""},W={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},q={class:"flex justify-between my-4"},L=e("h2",{class:"text-base font-semibold leading-6 p-2 text-gray-900",id:"modal-title"},[e("b",{class:"text-blue-900"},"Aggiorna saldatura")],-1),R={class:"flex items-center"},z=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Status:",-1),I=e("option",{selected:"",value:"false"},"Da completare",-1),H=e("option",{value:"true"},"Completate",-1),G=[I,H],J=e("hr",{class:"mb-4"},null,-1),K=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Macchina ",-1),Q={class:"flex items-center"},X=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Macchina:",-1),Y=e("option",{selected:"",value:"false"},"Saldatrice selettiva",-1),Z=e("option",{value:"true"},"Saldatrice ad onda",-1),ee=[Y,Z],te=e("hr",{class:"my-5"},null,-1),se={class:"mt-4"},oe={class:"mb-6"},ae=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Programma di saldatura",-1),le=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Info ",-1),re=e("hr",{class:"my-5"},null,-1),de={class:"mb-6"},ne=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Note di processo",-1),ie={class:"mb-6"},ce=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componenti mancanti",-1),ue=e("hr",null,null,-1),me={class:"mb-6 mt-4"},ge=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Firma operatore",-1),_e={__name:"WeldingForm",props:{welding:{type:Object,required:!1}},emits:["close-modal","save-data"],setup(v,{emit:b}){const t=v,c=a(t.welding.note),u=a(t.welding.missing_component),m=a(t.welding.firma),l=a(t.welding.soldering_type),h=a(t.welding.soldering_program),p=a(t.welding.status);async function x(){let d=S.weldingCRUD+`${t.welding.uuid}/`,s="PATCH";try{const o=await M({method:s,url:d,data:{soldering_type:l.value,soldering_program:h.value,note:c.value,missing_component:u.value,firma:m.value,status:p.value}});b("save-data",o.data)}catch(o){b("save-data",o.response.status)}}function r(){b("close-modal")}return(d,s)=>(n(),_("div",T,[U,e("div",O,[e("div",B,[e("div",F,[e("div",P,[e("div",E,[e("div",W,[e("div",q,[L,e("div",R,[z,i(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>p.value=o),id:"status",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},G,512),[[w,p.value]])])]),J,K,e("div",Q,[X,i(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>l.value=o),id:"macchina",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ee,512),[[w,l.value]])]),te,e("div",se,[e("div",oe,[ae,i(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>h.value=o)},null,512),[[f,h.value]])]),le,re,e("div",de,[ne,i(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=o=>c.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[f,c.value]])]),e("div",ie,[ce,i(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=o=>u.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[f,u.value]])]),ue,e("div",me,[ge,i(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":s[5]||(s[5]=o=>m.value=o)},null,512),[[f,m.value]])]),e("div",{class:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{onClick:x,class:"mt-3 inline-flex w-full justify-center mx-2 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-500 hover:text-white sm:mt-0 sm:w-auto"}," Save "),e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-red-800 hover:text-white sm:mt-0 sm:w-auto",onClick:r}," Cancel ")])])])])])])])])]))}},be={class:"p-4 w-full"},he={key:0,class:""},pe=e("hr",{class:"my-4"},null,-1),xe={class:"flex justify-between my-4"},fe={class:"text-2xl mb-4 text-blue-900"},ye={class:"mt-2"},ve={class:"mt-2"},we=e("hr",{class:"my-2"},null,-1),ke={class:"flex justify-between my-4"},$e=e("h1",{class:"text-md font-semibold"},"Status:",-1),Ce={class:"text-md"},Ne={key:0,class:"text-white bg-green-700 p-1 px-2 rounded-md"},Se={key:1,class:"text-white bg-yellow-400 p-1 px-2 rounded-md"},Me=e("hr",{class:"my-4"},null,-1),De=e("h1",{class:"text-xl text-center font-semibold mt-4"},"Macchinari e programmi",-1),Ve={class:"flex justify-between p-4 bg-gray-100 rounded-lg mt-2"},Ae=e("h1",{class:"text-blue-800 text-sm font-semibold"},"Macchina:",-1),je={class:"text-sm"},Te={key:0,class:"text-white bg-cyan-600 p-1 px-2 rounded-md"},Ue={key:1,class:"text-white bg-orange-600 p-1 px-2 rounded-md"},Oe={class:"mt-4 bg-gray-100 p-4 rounded-md"},Be=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Programma di saldatura: ",-1),Fe=e("hr",{class:"my-1"},null,-1),Pe=e("h1",{class:"text-xl text-center font-semibold mt-4"},"Info",-1),Ee={class:"mt-4 bg-gray-100 p-4 rounded-md"},We=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Componenti mancanti: ",-1),qe=e("hr",{class:"my-1"},null,-1),Le={class:"mt-4 bg-gray-100 p-4 rounded-md"},Re=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Note:",-1),ze=e("hr",{class:"my-1"},null,-1),Ie={class:"mt-4 bg-gray-100 p-4 rounded-md"},He=e("h4",{class:"text-blue-800 text-sm font-semibold mb-4"},"Firma operatore:",-1),Ge={class:""},Je=e("hr",null,null,-1),Ye={__name:"WeldingDetails",props:{welding_number:String},setup(v){const b=v,t=a({}),c=a(!1),u=a(!1),m=a(!1),l=a("");async function h(){const r=`${S.weldingCRUD}${b.welding_number}/`;try{const d=await M.get(r);t.value=d.data,console.log(d.data),u.value=!0}catch(d){alert(d)}}function p(r){console.log(r),x(),typeof r=="number"?(l.value="Aggiornametno non riuscito",m.value=!1):(t.value=r,l.value="Aggiornametno avvenuto con successo",m.value=!0),setTimeout(()=>l.value="",5e3)}function x(){c.value=!c.value}return D(()=>{h()}),(r,d)=>{const s=k("font-awesome-icon"),o=k("router-link");return n(),_("main",null,[i(y(j,{message:l.value,"icon-type":m.value},null,8,["message","icon-type"]),[[$,l.value]]),e("div",be,[u.value?(n(),_("div",he,[y(o,{to:{name:"order-details",params:{order_number:t.value.order_number}},class:"hover:text-green-600"},{default:V(()=>[y(s,{icon:"arrow-left-long"}),N(" Back to "+g(t.value.order_number),1)]),_:1},8,["to"]),pe])):C("",!0),e("div",xe,[e("div",null,[e("h1",fe,[y(s,{icon:"tarp-droplet"}),N(" Saldatura ")]),e("p",ye,"Data: "+g(t.value.created_at),1),e("p",ve,"Ordine: "+g(t.value.order_number),1)]),e("div",{class:"flex gap-2"},[e("button",{class:"hover:bg-amber-400 max-h-8 text-sm text-blue-950 font-semibold hover:text-white py-1 px-4 border hover:border-none border-blue-950 rounded",onClick:x}," Aggiorna ")])]),we,e("div",ke,[$e,e("h1",Ce,[t.value.status?(n(),_("span",Ne,"COMPLETATO")):(n(),_("span",Se,"DA COMPLETARE"))])]),Me,De,e("div",Ve,[Ae,e("h1",je,[t.value.soldering_type?(n(),_("span",Te,"Saldatrice Selettiva")):(n(),_("span",Ue,"Saldatrice ad Onda"))])]),e("div",Oe,[Be,Fe,e("p",null,g(t.value.soldering_program),1)]),Pe,e("div",Ee,[We,qe,e("p",null,g(t.value.missing_component),1)]),e("div",Le,[Re,ze,e("p",null,g(t.value.note),1)]),e("div",Ie,[He,e("p",Ge,g(t.value.firma),1),Je])]),u.value?i((n(),A(_e,{key:0,onCloseModal:x,onSaveData:p,welding:t.value},null,8,["welding"])),[[$,c.value]]):C("",!0)])}}};export{Ye as default};
