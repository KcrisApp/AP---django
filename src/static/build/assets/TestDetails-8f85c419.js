import{r,b as g,d as h,e,w as a,y as j,s as v,v as y,m as U,k as D,c as M,o as F,a as C,f as m,l as O,q as V,g as T,t as n,i as B,x as q}from"./index-7ae892e9.js";import{_ as k}from"./CardCheck-71bf1f25.js";const E={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},I=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),R={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},z={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},L={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},P={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},X={class:""},H={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},G={class:"flex justify-between my-4"},J=e("h2",{class:"text-base font-semibold leading-6 p-2 text-gray-900",id:"modal-title"},[e("b",{class:"text-blue-900"},"Aggiorna test")],-1),K={class:"flex items-center"},Q=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Status:",-1),W=e("option",{selected:"",value:"false"},"Da completare",-1),Y=e("option",{value:"true"},"Completate",-1),Z=[W,Y],ee=e("hr",{class:"mb-4"},null,-1),te=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Test ",-1),se={class:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white"},oe={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},re={class:"flex items-center ps-3"},ae=e("label",{for:"vue-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Ict",-1),le={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},de={class:"flex items-center ps-3"},ne=e("label",{for:"react-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"AOI",-1),ie={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},ce={class:"flex items-center ps-3"},ue=e("label",{for:"angular-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"X-ray",-1),me={class:"w-full dark:border-gray-600"},be={class:"flex items-center ps-3"},ge=e("label",{for:"laravel-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"FT",-1),fe=e("hr",{class:"my-5"},null,-1),_e={class:"mt-4"},xe={class:"mb-6"},ye=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Serial number testati",-1),he={class:"mb-6"},pe=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Note di processo",-1),ve={class:"mb-6"},ke=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componenti mancanti",-1),we={class:"mb-6"},$e=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Non conformita",-1),Ne=e("hr",null,null,-1),Ce={class:"mb-6 mt-4"},Ve=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Firma operatore",-1),Te={__name:"TestForm",props:{tests:{type:Object,required:!1}},emits:["close-modal","save-data"],setup(w,{emit:p}){const t=w,i=r(t.tests.note),c=r(t.tests.non_compliance),f=r(t.tests.missing_component),_=r(t.tests.serialnumber),u=r(t.tests.firma),l=r(t.tests.ict),d=r(t.tests.aoi),b=r(t.tests.xray),x=r(t.tests.functional),$=r(t.tests.status);async function S(){let N=U.testCRUD+`${t.tests.uuid}/`,o="PATCH";try{const s=await D({method:o,url:N,data:{ict:l.value,aoi:d.value,xray:b.value,functional:x.value,note:i.value,non_compliance:c.value,missing_component:f.value,serialnumber:_.value,firma:u.value,status:$.value}});p("save-data",s.data)}catch(s){s=s,alert(s)}}function A(){p("close-modal")}return(N,o)=>(g(),h("div",E,[I,e("div",R,[e("div",z,[e("div",L,[e("div",P,[e("div",X,[e("div",H,[e("div",G,[J,e("div",K,[Q,a(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>$.value=s),id:"status",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Z,512),[[j,$.value]])])]),ee,te,e("ul",se,[e("li",oe,[e("div",re,[a(e("input",{id:"vue-checkbox-list",type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=s=>l.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded dark:ring-offset-gray-700 dark:bg-gray-600 dark:border-gray-500"},null,512),[[v,l.value]]),ae])]),e("li",le,[e("div",de,[a(e("input",{id:"react-checkbox-list",type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=s=>d.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[v,d.value]]),ne])]),e("li",ie,[e("div",ce,[a(e("input",{id:"angular-checkbox-list",type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=s=>b.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[v,b.value]]),ue])]),e("li",me,[e("div",be,[a(e("input",{id:"laravel-checkbox-list",type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=s=>x.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[v,x.value]]),ge])])]),fe,e("div",_e,[e("form",null,[e("div",xe,[ye,a(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[5]||(o[5]=s=>_.value=s)},null,512),[[y,_.value]])]),e("div",he,[pe,a(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=s=>i.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[y,i.value]])]),e("div",ve,[ke,a(e("textarea",{"onUpdate:modelValue":o[7]||(o[7]=s=>f.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[y,f.value]])]),e("div",we,[$e,a(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=s=>c.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[y,c.value]])]),Ne,e("div",Ce,[Ve,a(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[9]||(o[9]=s=>u.value=s)},null,512),[[y,u.value]])]),e("div",{class:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{onClick:S,class:"mt-3 inline-flex w-full justify-center mx-2 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-500 hover:text-white sm:mt-0 sm:w-auto"}," Save "),e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-red-800 hover:text-white sm:mt-0 sm:w-auto",onClick:A}," Cancel ")])])])])])])])])])]))}},Ue={class:"w-full p-4"},De={key:0,class:""},Se=e("hr",{class:"my-4"},null,-1),Ae={class:"flex justify-between my-4"},je={class:"text-2xl mb-4 text-blue-900"},Me={class:"mt-2"},Fe=e("hr",{class:"my-2"},null,-1),Oe={class:"flex justify-between my-4"},Be=e("h1",{class:"text-md font-semibold"},"Status:",-1),qe={class:"text-md"},Ee={key:0,class:"text-white bg-green-700 p-1 px-2 rounded-md"},Ie={key:1,class:"text-white bg-red-700 p-1 px-2 rounded-md"},Re=e("hr",{class:"my-2"},null,-1),ze={class:"flex flex-wrap justify-center mt-5"},Le={class:"mt-4 bg-gray-100 p-4 rounded-md"},Pe=e("h4",{class:"text-blue-800 text-sn font-semibold"},"Non conformita:",-1),Xe=e("hr",{class:"my-1"},null,-1),He={class:"mt-4 bg-gray-100 p-4 rounded-md"},Ge=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Componenti mancanti: ",-1),Je=e("hr",{class:"my-1"},null,-1),Ke={class:"mt-4 bg-gray-100 p-4 rounded-md"},Qe=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Note:",-1),We=e("hr",{class:"my-1"},null,-1),Ye={class:"mt-4 bg-gray-100 p-4 rounded-md"},Ze=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Serial number:",-1),et=e("hr",{class:"my-1"},null,-1),tt={class:"mt-4 bg-gray-100 p-4 rounded-md"},st=e("h4",{class:"text-blue-800 text-sm font-semibold mb-4"},"Firma operatore:",-1),ot={class:""},rt=e("hr",null,null,-1),dt={__name:"TestDetails",props:{test_number:String},setup(w){const p=w,t=r({}),i=r(!1),c=r(!1);async function f(){const l=`${U.testCRUD}${p.test_number}/`;try{const d=await D.get(l);t.value=d.data,c.value=!0}catch(d){alert(d)}}console.log(t);function _(l){u(),t.value=l}function u(){i.value=!i.value}return M(()=>t.value.order_number),F(()=>{f()}),(l,d)=>{const b=C("font-awesome-icon"),x=C("router-link");return g(),h("main",null,[e("div",Ue,[c.value?(g(),h("div",De,[m(x,{to:{name:"order-details",params:{order_number:t.value.order_number}},class:"hover:text-green-600"},{default:O(()=>[m(b,{icon:"arrow-left-long"}),T(" Back to "+n(t.value.order_number),1)]),_:1},8,["to"]),Se])):V("",!0),e("div",Ae,[e("div",null,[e("h1",je,[m(b,{icon:"laptop-code",class:"text-blue-950"}),T(" Collaudo: "+n(t.value.order_number),1)]),e("p",Me,"Data: "+n(t.value.created_at),1)]),e("div",{class:"flex gap-2"},[e("button",{class:"hover:bg-amber-400 max-h-8 text-sm text-blue-950 font-semibold hover:text-white py-1 px-4 border hover:border-none border-blue-950 rounded",onClick:u}," Aggiorna ")])]),Fe,e("div",Oe,[Be,e("h1",qe,[t.value.status?(g(),h("span",Ee,"COMPLETATO")):(g(),h("span",Ie,"DA COMPLETARE"))])]),Re,e("div",ze,[m(k,{status:t.value.ict,text:"ICT"},null,8,["status"]),m(k,{status:t.value.aoi,text:"AOI"},null,8,["status"]),m(k,{status:t.value.xray,text:"X-Ray"},null,8,["status"]),m(k,{status:t.value.functional,text:"Funzionale"},null,8,["status"])]),e("div",Le,[Pe,Xe,e("p",null,n(t.value.non_compliance),1)]),e("div",He,[Ge,Je,e("p",null,n(t.value.missing_component),1)]),e("div",Ke,[Qe,We,e("p",null,n(t.value.note),1)]),e("div",Ye,[Ze,et,e("p",null,n(t.value.serialnumber),1)]),e("div",tt,[st,e("p",ot,n(t.value.firma),1),rt])]),c.value?a((g(),q(Te,{key:0,onCloseModal:u,onSaveData:_,tests:t.value},null,8,["tests"])),[[B,i.value]]):V("",!0)])}}};export{dt as default};
