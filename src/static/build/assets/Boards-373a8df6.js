import{q as V,r as s,c as L,o as F,a as w,b as l,d as n,w as u,i as y,f as h,e,g as f,v as U,u as z,p as A,F as C,h as M,j as m,k as R,l as T,t as d,m as $}from"./index-aa10096d.js";import{_ as q}from"./BoardForm-8592ef4c.js";const E={class:"p-4 w-full"},G={class:"flex justify-between gap-2 flex-wrap"},H={class:"text-2xl flex-1"},I={class:"flex-2"},J={class:""},K={class:"relative"},O=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},null,-1),Q=e("hr",{class:"mt-2"},null,-1),W={class:"text-left text-sm font-light flex-wrap w-full"},X=e("thead",{class:"border-b font-medium dark:border-neutral-500"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4"},"Scheda"),e("th",{scope:"col",class:"px-6 py-4"},"Codice"),e("th",{scope:"col",class:"px-6 py-4"},"Data creazione"),e("th",{scope:"col",class:"px-2 py-4"},"Revisione")])],-1),Y={class:"whitespace-nowrap px-6 py-4 font-medium hover:text-green-600"},Z={class:"whitespace-nowrap px-6 py-4"},ee={class:"whitespace-nowrap px-6 py-4"},te={class:"whitespace-nowrap px-4 py-4"},ae={class:"text-center mt-4"},oe={"aria-label":"Page navigation example"},re={class:"inline-flex -space-x-px text-sm"},se=["onClick"],le=["onClick"],ne=["onClick"],he={__name:"Boards",setup(ce){const k=V();console.log(k.first_name);const p=s([]),g=s(!1),v=s(""),i=s(0),_=s(15),r=s(0),D=L(()=>{const a=r.value*_.value,o=a+_.value;let c=p.value.filter(x=>x.board_name.toLowerCase().includes(v.value.toLowerCase()));return i.value=Math.ceil(c.length/_.value),console.log(i.value),c.slice(a,o)}),N=a=>{r.value=a-1},S=()=>{r.value++},j=()=>{r.value===0?r.value=0:r.value--};function b(){g.value=!g.value}function B(a){console.log(a),b(),p.value.unshift(a)}async function P(){let a=$.boardsCRUD;try{const o=await R.get(a);p.value.push(...o.data),console.log(o.data)}catch(o){alert(o)}}return F(()=>{P()}),(a,o)=>{const c=w("font-awesome-icon"),x=w("router-link");return l(),n("main",null,[u(h(q,{onCloseModal:b,onSaveData:B},null,512),[[y,g.value]]),e("div",E,[e("div",G,[e("h1",H,[h(c,{icon:"hard-drive",class:"text-blue-950"}),f(" Schede ")]),e("div",I,[e("form",J,[e("div",K,[O,u(e("input",{type:"search",id:"default-search",class:"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Cerca per nome scheda","onUpdate:modelValue":o[0]||(o[0]=t=>v.value=t)},null,512),[[U,v.value]])])])]),z(k).company_role=="M"?(l(),n("button",{key:0,class:"hover:bg-blue-500 text-blue-950 font-semibold hover:text-white py-1 px-6 border border-blue-950 rounded",onClick:b},[h(c,{icon:"folder-plus"}),f(" Add ")])):A("",!0)]),Q,e("table",W,[X,e("tbody",null,[(l(!0),n(C,null,M(D.value,t=>(l(),n("tr",{class:"border-b dark:border-neutral-500",key:t.uuid},[e("td",Y,[h(x,{to:{name:"board-details",params:{uuid:t.id}}},{default:T(()=>[f(d(t.board_name),1)]),_:2},1032,["to"])]),e("td",Z,d(t.board_code),1),e("td",ee,d(t.created_at),1),e("td",te,d(t.board_rev),1)]))),128))])]),e("div",ae,[e("nav",oe,[e("ul",re,[u(e("li",null,[e("a",{onClick:m(j,["prevent"]),class:"disabled flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"Previous",8,se)],512),[[y,r.value!==0]]),(l(!0),n(C,null,M(i.value,t=>(l(),n("li",null,[e("a",{onClick:m(de=>N(t),["prevent"]),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},d(t),9,le)]))),256)),u(e("li",null,[e("a",{onClick:m(S,["prevent"]),class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"Next",8,ne)],512),[[y,r.value<i.value-1]])])])])])])}}};export{he as default};
