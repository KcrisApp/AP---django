import{r as u,u as V,m as E,n as O,o as U,a as C,b as _,c as p,d as e,e as a,F as k,g as D,j as A,i as S,N as q,k as g,v as w,f as n,t as s,w as L}from"./index-dcd3e5f1.js";import{_ as Q,a as T}from"./OrderForm-c6b31a3d.js";import{_ as G}from"./BoardForm-5f361ad1.js";const H={class:"container-fluid flex min-h-screen"},I={class:"m-4 w-full"},J={class:"flex justify-between my-4"},K={class:"text-2xl"},P={class:"flex gap-2"},W=e("hr",{class:"my-2"},null,-1),X={class:"flex bg-slate-100 p-4"},Y={class:"col"},Z={class:"mt-2"},ee={class:"col"},oe={class:"mt-2"},te=["src"],se={class:"flex justify-between mt-4"},ae=e("h4",{class:"text-2xl"},"Ordini",-1),re={class:"bg-s-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-slate-300 dark:text-blue-300"},ne=e("hr",{class:"my-2"},null,-1),le={class:"text-left text-sm font-light flex-wrap w-full"},ce=e("thead",{class:"border-b font-medium dark:border-neutral-500"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4"},"Numero ordine"),e("th",{scope:"col",class:"px-6 py-4"},"QuantitÃ "),e("th",{scope:"col",class:"px-6 py-4"},"Data creazione"),e("th",{scope:"col",class:"px-6 py-4"},"Scheda"),e("th",{scope:"col",class:"px-6 py-4"})])],-1),de={class:"whitespace-nowrap px-6 py-2 font-medium"},ie={class:"whitespace-nowrap px-6 py-2"},ue={class:"whitespace-nowrap px-6 py-2"},_e={class:"whitespace-nowrap px-6 py-2"},pe={class:"whitespace-nowrap px-6 py-2"},fe={__name:"BoardDetails",props:{uuid:String},setup($){const y=$,c=u([]),d=u([]),h=u(!1),m=u(!1),b=u(!1),B=V();E();const N=O(()=>d.value.length);async function M(){const o=`${A.boardsCRUD}${y.uuid}/`;try{const r=await S.get(o);c.value.push(r.data),d.value=r.data.order,console.log(r.data)}catch(r){alert(r)}}async function R(o){let r=`${A.boardsCRUD}${o}/`;try{const l=await S.delete(r);f(),B.push({name:"boards"})}catch(l){alert(l)}}function F(o){v(),d.value.unshift(o)}function j(o){x(),console.log(o),c.value[0].board_code=o.board_code,c.value[0].board_name=o.board_name,c.value[0].board_rev=o.board_rev,c.value[0].customer=o.customer}function f(){h.value=!h.value}function v(){m.value=!m.value}function x(){b.value=!b.value}return U(()=>{M(),console.log(y.uuid)}),(o,r)=>{const l=C("font-awesome-icon"),z=C("router-link");return _(),p("main",null,[e("div",H,[a(q),(_(!0),p(k,null,D(c.value,t=>(_(),p("div",I,[g(a(Q,{"icon-type":"error",title:"Attenzione",message:"Sei sicuro di voler eliminare la scheda?",onCloseAlert:f,onConfirm:i=>R(t.uuid)},null,8,["onConfirm"]),[[w,h.value]]),g(a(G,{onCloseModal:x,onSaveData:j,boardArr:t},null,8,["boardArr"]),[[w,b.value]]),g(a(T,{board_id:t.id,onCloseModal:v,onSaveData:F},null,8,["board_id"]),[[w,m.value]]),e("div",J,[e("h1",K,[a(l,{icon:"hard-drive",class:"text-blue-950"}),n(" Scheda: "+s(t.board_name),1)]),e("div",P,[e("button",{class:"hover:bg-blue-500 text-blue-950 font-semibold hover:text-white py-1 px-4 border border-blue-950 rounded",onClick:v},[a(l,{icon:"folder-plus"}),n(" Aggiungi ordine ")]),e("button",{class:"hover:bg-amber-400 text-blue-950 font-semibold hover:text-white py-1 px-4 border border-blue-950 rounded",onClick:x},[a(l,{icon:"folder-plus"}),n(" Modifica ")]),e("button",{class:"hover:bg-red-900 bg-red-600 text-white font-semibold py-1 px-4 border border-blue-950 rounded",onClick:f}," Elimina ")])]),W,e("div",X,[e("div",Y,[e("p",null,[n(" Codice: "),e("b",null,s(t.board_code),1)]),e("p",Z,[n(" Revisione: "),e("b",null,s(t.board_rev),1)])]),e("div",ee,[e("p",null,[n(" Data di creazione: "),e("b",null,s(t.created_at),1)]),e("p",oe,[n(" Cliente: "),e("b",null,s(t.customer),1)]),n(" "+s(t.board_img)+" ",1),e("img",{src:t.board_img},null,8,te)])]),e("div",se,[ae,e("p",re,"Numero ordini: "+s(N.value),1)]),ne,e("table",le,[ce,e("tbody",null,[(_(!0),p(k,null,D(d.value,i=>(_(),p("tr",{class:"border-b dark:border-neutral-500",key:d.value.uuid},[e("td",de,s(i.order_number),1),e("td",ie,s(i.order_quantity),1),e("td",ue,s(i.created_at),1),e("td",_e,s(t.board_name),1),e("td",pe,[a(z,{to:{name:"order-details",params:{order_number:i.order_number}},class:"hover:text-green-600"},{default:L(()=>[a(l,{icon:"fa-eye",class:"text-blue-950 hover:text-green-500"})]),_:2},1032,["to"])])]))),128))])])]))),256))])])}}};export{fe as default};
