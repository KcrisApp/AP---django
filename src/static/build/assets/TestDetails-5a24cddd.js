import{r,b as _,d as v,e,w as a,br as M,s as k,v as h,m as D,k as S,c as F,o as O,a as T,i as V,f as i,l as B,p as U,g as A,t as c,n as E}from"./index-aa10096d.js";import{_ as w}from"./CardCheck-c68971b0.js";import{_ as I}from"./Info-f9314415.js";/* empty css                                             */const R={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},q=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),z={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},L={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},P={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},X={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},H={class:""},G={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},J={class:"flex justify-between my-4"},K=e("h2",{class:"text-base font-semibold leading-6 p-2 text-gray-900",id:"modal-title"},[e("b",{class:"text-blue-900"},"Aggiorna test")],-1),Q={class:"flex items-center"},W=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Status:",-1),Y=e("option",{selected:"",value:"false"},"Da completare",-1),Z=e("option",{value:"true"},"Completate",-1),ee=[Y,Z],te=e("hr",{class:"mb-4"},null,-1),se=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Test ",-1),oe={class:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white"},re={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},ae={class:"flex items-center ps-3"},le=e("label",{for:"vue-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Ict",-1),ne={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},de={class:"flex items-center ps-3"},ie=e("label",{for:"react-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"AOI",-1),ce={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},ue={class:"flex items-center ps-3"},me=e("label",{for:"angular-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"X-ray",-1),be={class:"w-full dark:border-gray-600"},ge={class:"flex items-center ps-3"},fe=e("label",{for:"laravel-checkbox-list",class:"w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"FT",-1),_e=e("hr",{class:"my-5"},null,-1),xe={class:"mt-4"},ye={class:"mb-6"},pe=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Serial number testati",-1),he={class:"mb-6"},ve=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Note di processo",-1),ke={class:"mb-6"},we=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componenti mancanti",-1),$e={class:"mb-6"},Ne=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Non conformita",-1),Ce=e("hr",null,null,-1),Te={class:"mb-6 mt-4"},Ve=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Firma operatore",-1),Ue={__name:"TestForm",props:{tests:{type:Object,required:!1}},emits:["close-modal","save-data"],setup($,{emit:x}){const t=$,u=r(t.tests.note),m=r(t.tests.non_compliance),l=r(t.tests.missing_component),b=r(t.tests.serialnumber),y=r(t.tests.firma),p=r(t.tests.ict),g=r(t.tests.aoi),n=r(t.tests.xray),d=r(t.tests.functional),f=r(t.tests.status);async function N(){let C=D.testCRUD+`${t.tests.uuid}/`,o="PATCH";try{const s=await S({method:o,url:C,data:{ict:p.value,aoi:g.value,xray:n.value,functional:d.value,note:u.value,non_compliance:m.value,missing_component:l.value,serialnumber:b.value,firma:y.value,status:f.value}});x("save-data",s.data)}catch(s){x("save-data",s.response.status)}}function j(){x("close-modal")}return(C,o)=>(_(),v("div",R,[q,e("div",z,[e("div",L,[e("div",P,[e("div",X,[e("div",H,[e("div",G,[e("div",J,[K,e("div",Q,[W,a(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>f.value=s),id:"status",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ee,512),[[M,f.value]])])]),te,se,e("ul",oe,[e("li",re,[e("div",ae,[a(e("input",{id:"vue-checkbox-list",type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=s=>p.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded dark:ring-offset-gray-700 dark:bg-gray-600 dark:border-gray-500"},null,512),[[k,p.value]]),le])]),e("li",ne,[e("div",de,[a(e("input",{id:"react-checkbox-list",type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=s=>g.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[k,g.value]]),ie])]),e("li",ce,[e("div",ue,[a(e("input",{id:"angular-checkbox-list",type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=s=>n.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[k,n.value]]),me])]),e("li",be,[e("div",ge,[a(e("input",{id:"laravel-checkbox-list",type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=s=>d.value=s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,512),[[k,d.value]]),fe])])]),_e,e("div",xe,[e("div",ye,[pe,a(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[5]||(o[5]=s=>b.value=s)},null,512),[[h,b.value]])]),e("div",he,[ve,a(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=s=>u.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,u.value]])]),e("div",ke,[we,a(e("textarea",{"onUpdate:modelValue":o[7]||(o[7]=s=>l.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,l.value]])]),e("div",$e,[Ne,a(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=s=>m.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[h,m.value]])]),Ce,e("div",Te,[Ve,a(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[9]||(o[9]=s=>y.value=s)},null,512),[[h,y.value]])]),e("div",{class:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{onClick:N,class:"mt-3 inline-flex w-full justify-center mx-2 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-500 hover:text-white sm:mt-0 sm:w-auto"}," Save "),e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-red-800 hover:text-white sm:mt-0 sm:w-auto",onClick:j}," Cancel ")])])])])])])])])]))}},Ae={class:"w-full p-4"},De={key:0,class:""},Se=e("hr",{class:"my-4"},null,-1),je={class:"flex justify-between my-4"},Me={class:"text-2xl mb-4 text-blue-900"},Fe={class:"mt-2"},Oe=e("hr",{class:"my-2"},null,-1),Be={class:"flex justify-between my-4"},Ee=e("h1",{class:"text-md font-semibold"},"Status:",-1),Ie={class:"text-md"},Re={key:0,class:"text-white bg-green-700 p-1 px-2 rounded-md"},qe={key:1,class:"text-white bg-red-700 p-1 px-2 rounded-md"},ze=e("hr",{class:"my-2"},null,-1),Le={class:"flex flex-wrap justify-center mt-5"},Pe={class:"mt-4 bg-gray-100 p-4 rounded-md"},Xe=e("h4",{class:"text-blue-800 text-sn font-semibold"},"Non conformita:",-1),He=e("hr",{class:"my-1"},null,-1),Ge={class:"mt-4 bg-gray-100 p-4 rounded-md"},Je=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Componenti mancanti: ",-1),Ke=e("hr",{class:"my-1"},null,-1),Qe={class:"mt-4 bg-gray-100 p-4 rounded-md"},We=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Note:",-1),Ye=e("hr",{class:"my-1"},null,-1),Ze={class:"mt-4 bg-gray-100 p-4 rounded-md"},et=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Serial number:",-1),tt=e("hr",{class:"my-1"},null,-1),st={class:"mt-4 bg-gray-100 p-4 rounded-md"},ot=e("h4",{class:"text-blue-800 text-sm font-semibold mb-4"},"Firma operatore:",-1),rt={class:""},at=e("hr",null,null,-1),ct={__name:"TestDetails",props:{test_number:String},setup($){const x=$,t=r({}),u=r(!1),m=r(!1),l=r(""),b=r(!1);async function y(){const n=`${D.testCRUD}${x.test_number}/`;try{const d=await S.get(n);t.value=d.data,b.value=!0}catch(d){alert(d)}}console.log(t);function p(n){g(),typeof n=="number"?(l.value="Aggiornametno non riuscito",m.value=!1):(t.value=n,l.value="Aggiornametno avvenuto con successo",m.value=!0),setTimeout(()=>l.value="",5e3)}function g(){u.value=!u.value}return F(()=>t.value.order_number),O(()=>{y()}),(n,d)=>{const f=T("font-awesome-icon"),N=T("router-link");return _(),v("main",null,[a(i(I,{message:l.value,"icon-type":m.value},null,8,["message","icon-type"]),[[V,l.value]]),e("div",Ae,[b.value?(_(),v("div",De,[i(N,{to:{name:"order-details",params:{order_number:t.value.order_number}},class:"hover:text-green-600"},{default:B(()=>[i(f,{icon:"arrow-left-long"}),A(" Back to "+c(t.value.order_number),1)]),_:1},8,["to"]),Se])):U("",!0),e("div",je,[e("div",null,[e("h1",Me,[i(f,{icon:"laptop-code",class:"text-blue-950"}),A(" Collaudo: "+c(t.value.order_number),1)]),e("p",Fe,"Data: "+c(t.value.created_at),1)]),e("div",{class:"flex gap-2"},[e("button",{class:"hover:bg-amber-400 max-h-8 text-sm text-blue-950 font-semibold hover:text-white py-1 px-4 border hover:border-none border-blue-950 rounded",onClick:g}," Aggiorna ")])]),Oe,e("div",Be,[Ee,e("h1",Ie,[t.value.status?(_(),v("span",Re,"COMPLETATO")):(_(),v("span",qe,"DA COMPLETARE"))])]),ze,e("div",Le,[i(w,{status:t.value.ict,text:"ICT"},null,8,["status"]),i(w,{status:t.value.aoi,text:"AOI"},null,8,["status"]),i(w,{status:t.value.xray,text:"X-Ray"},null,8,["status"]),i(w,{status:t.value.functional,text:"Funzionale"},null,8,["status"])]),e("div",Pe,[Xe,He,e("p",null,c(t.value.non_compliance),1)]),e("div",Ge,[Je,Ke,e("p",null,c(t.value.missing_component),1)]),e("div",Qe,[We,Ye,e("p",null,c(t.value.note),1)]),e("div",Ze,[et,tt,e("p",null,c(t.value.serialnumber),1)]),e("div",st,[ot,e("p",rt,c(t.value.firma),1),at])]),b.value?a((_(),E(Ue,{key:0,onCloseModal:g,onSaveData:p,tests:t.value},null,8,["tests"])),[[V,u.value]]):U("",!0)])}}};export{ct as default};
