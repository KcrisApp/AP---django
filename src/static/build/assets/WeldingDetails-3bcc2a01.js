import{r as a,b as r,d as m,e,w as b,y as w,v as f,m as N,k as S,o as M,a as k,f as v,l as D,q as $,g as C,t as u,i as V,x as j}from"./index-7ae892e9.js";const U={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},A=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),O={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},T={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},B={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},F={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},P={class:""},q={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},E={class:"flex justify-between my-4"},W=e("h2",{class:"text-base font-semibold leading-6 p-2 text-gray-900",id:"modal-title"},[e("b",{class:"text-blue-900"},"Aggiorna saldatura")],-1),L={class:"flex items-center"},R=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Status:",-1),z=e("option",{selected:"",value:"false"},"Da completare",-1),I=e("option",{value:"true"},"Completate",-1),H=[z,I],G=e("hr",{class:"mb-4"},null,-1),J=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Macchina ",-1),K={class:"flex items-center"},Q=e("label",{for:"status",class:"block mr-2 text-md font-medium dark:text-white"},"Macchina:",-1),X=e("option",{selected:"",value:"false"},"Saldatrice selettiva",-1),Y=e("option",{value:"true"},"Saldatrice ad onda",-1),Z=[X,Y],ee=e("hr",{class:"my-5"},null,-1),te={class:"mt-4"},se={class:"mb-6"},oe=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Programma di saldatura",-1),ae=e("h3",{class:"mb-4 font-semibold text-gray-900 dark:text-white text-center"}," Info ",-1),le=e("hr",{class:"my-5"},null,-1),re={class:"mb-6"},de=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Note di processo",-1),ne={class:"mb-6"},ie=e("label",{for:"procesNote",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componenti mancanti",-1),ce=e("hr",null,null,-1),ue={class:"mb-6 mt-4"},me=e("label",{for:"orderNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Firma operatore",-1),be={__name:"WeldingForm",props:{welding:{type:Object,required:!1}},emits:["close-modal","save-data"],setup(y,{emit:h}){const t=y,d=a(t.welding.note),n=a(t.welding.missing_component),_=a(t.welding.firma),g=a(t.welding.soldering_type),i=a(t.welding.soldering_program),l=a(t.welding.status);async function c(){let x=N.weldingCRUD+`${t.welding.uuid}/`,o="PATCH";try{const s=await S({method:o,url:x,data:{soldering_type:g.value,soldering_program:i.value,note:d.value,missing_component:n.value,firma:_.value,status:l.value}});h("save-data",s.data)}catch(s){s=s,alert(s)}}function p(){h("close-modal")}return(x,o)=>(r(),m("div",U,[A,e("div",O,[e("div",T,[e("div",B,[e("div",F,[e("div",P,[e("div",q,[e("div",E,[W,e("div",L,[R,b(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>l.value=s),id:"status",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},H,512),[[w,l.value]])])]),G,J,e("div",K,[Q,b(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>g.value=s),id:"macchina",class:"p-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Z,512),[[w,g.value]])]),ee,e("div",te,[e("form",null,[e("div",se,[oe,b(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[2]||(o[2]=s=>i.value=s)},null,512),[[f,i.value]])]),ae,le,e("div",re,[de,b(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=s=>d.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[f,d.value]])]),e("div",ne,[ie,b(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=s=>n.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"procesNote",id:"procesNote",cols:"30",rows:"3"},null,512),[[f,n.value]])]),ce,e("div",ue,[me,b(e("input",{type:"text",id:"orderNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:"","onUpdate:modelValue":o[5]||(o[5]=s=>_.value=s)},null,512),[[f,_.value]])]),e("div",{class:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[e("button",{onClick:c,class:"mt-3 inline-flex w-full justify-center mx-2 rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-500 hover:text-white sm:mt-0 sm:w-auto"}," Save "),e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-red-800 hover:text-white sm:mt-0 sm:w-auto",onClick:p}," Cancel ")])])])])])])])])])]))}},_e={class:"p-4 w-full"},ge={key:0,class:""},he=e("hr",{class:"my-4"},null,-1),pe={class:"flex justify-between my-4"},xe={class:"text-2xl mb-4 text-blue-900"},fe={class:"mt-2"},ye={class:"mt-2"},ve=e("hr",{class:"my-2"},null,-1),we={class:"flex justify-between my-4"},ke=e("h1",{class:"text-md font-semibold"},"Status:",-1),$e={class:"text-md"},Ce={key:0,class:"text-white bg-green-700 p-1 px-2 rounded-md"},Ne={key:1,class:"text-white bg-yellow-400 p-1 px-2 rounded-md"},Se=e("hr",{class:"my-4"},null,-1),Me=e("h1",{class:"text-xl text-center font-semibold mt-4"},"Macchinari e programmi",-1),De={class:"flex justify-between p-4 bg-gray-100 rounded-lg mt-2"},Ve=e("h1",{class:"text-blue-800 text-sm font-semibold"},"Macchina:",-1),je={class:"text-sm"},Ue={key:0,class:"text-white bg-cyan-600 p-1 px-2 rounded-md"},Ae={key:1,class:"text-white bg-orange-600 p-1 px-2 rounded-md"},Oe={class:"mt-4 bg-gray-100 p-4 rounded-md"},Te=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Programma di saldatura: ",-1),Be=e("hr",{class:"my-1"},null,-1),Fe=e("h1",{class:"text-xl text-center font-semibold mt-4"},"Info",-1),Pe={class:"mt-4 bg-gray-100 p-4 rounded-md"},qe=e("h4",{class:"text-blue-800 text-sm font-semibold"}," Componenti mancanti: ",-1),Ee=e("hr",{class:"my-1"},null,-1),We={class:"mt-4 bg-gray-100 p-4 rounded-md"},Le=e("h4",{class:"text-blue-800 text-sm font-semibold"},"Note:",-1),Re=e("hr",{class:"my-1"},null,-1),ze={class:"mt-4 bg-gray-100 p-4 rounded-md"},Ie=e("h4",{class:"text-blue-800 text-sm font-semibold mb-4"},"Firma operatore:",-1),He={class:""},Ge=e("hr",null,null,-1),Ke={__name:"WeldingDetails",props:{welding_number:String},setup(y){const h=y,t=a({}),d=a(!1),n=a(!1);async function _(){const l=`${N.weldingCRUD}${h.welding_number}/`;try{const c=await S.get(l);t.value=c.data,console.log(c.data),n.value=!0}catch(c){alert(c)}}function g(l){i(),t.value=l}function i(){d.value=!d.value}return M(()=>{_()}),(l,c)=>{const p=k("font-awesome-icon"),x=k("router-link");return r(),m("main",null,[e("div",_e,[n.value?(r(),m("div",ge,[v(x,{to:{name:"order-details",params:{order_number:t.value.order_number}},class:"hover:text-green-600"},{default:D(()=>[v(p,{icon:"arrow-left-long"}),C(" Back to "+u(t.value.order_number),1)]),_:1},8,["to"]),he])):$("",!0),e("div",pe,[e("div",null,[e("h1",xe,[v(p,{icon:"tarp-droplet"}),C(" Saldatura ")]),e("p",fe,"Data: "+u(t.value.created_at),1),e("p",ye,"Ordine: "+u(t.value.order_number),1)]),e("div",{class:"flex gap-2"},[e("button",{class:"hover:bg-amber-400 max-h-8 text-sm text-blue-950 font-semibold hover:text-white py-1 px-4 border hover:border-none border-blue-950 rounded",onClick:i}," Aggiorna ")])]),ve,e("div",we,[ke,e("h1",$e,[t.value.status?(r(),m("span",Ce,"COMPLETATO")):(r(),m("span",Ne,"DA COMPLETARE"))])]),Se,Me,e("div",De,[Ve,e("h1",je,[t.value.soldering_type?(r(),m("span",Ue,"Saldatrice Selettiva")):(r(),m("span",Ae,"Saldatrice ad Onda"))])]),e("div",Oe,[Te,Be,e("p",null,u(t.value.soldering_program),1)]),Fe,e("div",Pe,[qe,Ee,e("p",null,u(t.value.missing_component),1)]),e("div",We,[Le,Re,e("p",null,u(t.value.note),1)]),e("div",ze,[Ie,e("p",He,u(t.value.firma),1),Ge])]),n.value?b((r(),j(be,{key:0,onCloseModal:i,onSaveData:g,welding:t.value},null,8,["welding"])),[[V,d.value]]):$("",!0)])}}};export{Ke as default};
